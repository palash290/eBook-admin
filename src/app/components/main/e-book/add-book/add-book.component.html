<div class="ct_px_30 pb-5">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="d-flex align-items-center justify-content-between gap-3 flex-wrap mb-4">
                    <h4 class="ct_fs_26 ct_fw_700 mb-0 ct_nunito_font">{{bookId ? 'Update' : 'Add'}} Book</h4>
                    <button (click)="onSubmit()"
                        class="ct_purple_btn d-flex align-items-center justify-content-center">{{bookId ? 'Update Book'
                        : 'Save & Publish'}}</button>
                </div>
            </div>
        </div>
        <form [formGroup]="authorForm">
            <div class="row">
                <div class="col-md-8 mb-4 mb-md-0">
                    <div class="ct_white_bg">
                        <div class="ct_full_height">
                            <div class="ct_edit_profile_bg">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group mb-3">
                                            <input type="text" class="form-control ct_input" placeholder="Book Name"
                                                formControlName="title">
                                            <div *ngIf="authorForm.get('title')?.hasError('required') && authorForm.get('title')?.touched"
                                                class="text-danger">
                                                <small>Book Name is required</small>
                                            </div>
                                        </div>
                                        <div class="form-group mb-3">
                                            <!-- <select class="form-control ct_input" formControlName="categoryIds">
                                                <option value="">Select Book Category</option>
                                                <option value="">Select Book Category</option>
                                            </select> -->
                                            <nz-select class="form-control et_genre_multiselect_1 border-0"
                                                nzMode="tags" nzPlaceHolder="Select Genre"
                                                [(ngModel)]="selectedCategories" [nzNotFoundContent]="'No Data Found'"
                                                formControlName="categoryIds">
                                                @for (option of categories; track option) {
                                                <nz-option [nzLabel]="option.name" [nzValue]="option.id"></nz-option>
                                                }
                                            </nz-select>
                                            <div *ngIf="authorForm.get('categoryIds')?.hasError('required') && authorForm.get('categoryIds')?.touched"
                                                class="text-danger">
                                                <small>Book Genres Are required</small>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group mb-3">
                                                    <input type="number" class="form-control ct_input"
                                                        placeholder="Discounted Price in $" formControlName="price">
                                                    <div *ngIf="authorForm.get('price')?.hasError('required') && authorForm.get('price')?.touched"
                                                        class="text-danger">
                                                        <small>Discounted Price is required</small>
                                                    </div>
                                                    <div *ngIf="authorForm.get('price')?.hasError('pattern') && authorForm.get('price')?.touched"
                                                        class="text-danger">
                                                        <small>Please enter valid price (Example: 10.00)</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group mb-3">
                                                    <input type="number" class="form-control ct_input"
                                                        placeholder="Actual Price in $" formControlName="costPrice">
                                                    <div *ngIf="authorForm.get('costPrice')?.hasError('required') && authorForm.get('costPrice')?.touched"
                                                        class="text-danger">
                                                        <small>Actual Price is required</small>
                                                    </div>
                                                    <div *ngIf="authorForm.get('costPrice')?.hasError('pattern') && authorForm.get('costPrice')?.touched"
                                                        class="text-danger">
                                                        <small>Please enter valid price (Example: 10.00)</small>
                                                    </div>
                                                    <div *ngIf="authorForm.get('costPrice')?.value < authorForm.get('price')?.value && authorForm.get('costPrice')?.touched && !authorForm.get('costPrice')?.hasError('required')"
                                                        class="text-danger">
                                                        <small>Actual Price should not be less than Discounted
                                                            Price</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group mb-3">
                                            <input type="number" class="form-control ct_input"
                                                placeholder="Quantity in Stock" formControlName="stock">
                                            <div *ngIf="authorForm.get('stock')?.hasError('required') && authorForm.get('stock')?.touched"
                                                class="text-danger">
                                                <small>Quantity is required</small>
                                            </div>
                                            <div *ngIf="authorForm.get('stock')?.hasError('min') && authorForm.get('stock')?.touched"
                                                class="text-danger">
                                                <small>Quantity should be greater than 0</small>
                                            </div>
                                        </div>
                                        <div class="form-group mb-3">
                                            <textarea rows="6" class="form-control ct_input h-auto"
                                                placeholder="Short Description"
                                                formControlName="description"></textarea>
                                            <div *ngIf="authorForm.get('description')?.hasError('required') && authorForm.get('description')?.touched"
                                                class="text-danger">
                                                <small>Description is required</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group mb-3">
                                            <select class="form-control ct_input" formControlName="author">
                                                <option disabled [value]="''" selected>Select Author</option>
                                                @for (item of authors; track $index) {
                                                <option [value]="item.id">{{item.fullName}}</option>
                                                }
                                            </select>
                                            <div *ngIf="authorForm.get('author')?.hasError('required') && authorForm.get('author')?.touched"
                                                class="text-danger">
                                                <small>Author is required</small>
                                            </div>
                                        </div>
                                        <div class="form-group mb-3">
                                            <select class="form-control ct_input" formControlName="type"
                                                (change)="onTypeChange($event)">
                                                <option disabled [value]="''" selected>Select Book Type</option>
                                                <option [value]="2">EPUB</option>
                                                <option [value]="1">PDF</option>
                                            </select>
                                            <div *ngIf="authorForm.get('type')?.hasError('required') && authorForm.get('type')?.touched"
                                                class="text-danger">
                                                <small>Book type is required</small>
                                            </div>
                                        </div>
                                        @if(authorForm.get('type')?.value){
                                        <div class="mb-3 position-relative">
                                            @if(pdfPreviewUrl && authorForm.get('type')?.value == 1){
                                            <iframe [src]="pdfPreviewUrl" width="100%" height="180"></iframe>
                                            <!-- <img src="assets/img/book_1.png" alt=""
                                                class="ct_uploaded_img position-relative" style="height: 180px;"> -->
                                            <!-- <p>{{selectedPdfName}}</p> -->
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                viewBox="0 0 36 36" class="remove" (click)="removePdf()">
                                                <path fill="#e40000"
                                                    d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2m8 22.1a1.4 1.4 0 0 1-2 2l-6-6l-6 6.02a1.4 1.4 0 1 1-2-2l6-6.04l-6.17-6.22a1.4 1.4 0 1 1 2-2L18 16.1l6.17-6.17a1.4 1.4 0 1 1 2 2L20 18.08Z"
                                                    class="clr-i-solid clr-i-solid-path-1" />
                                                <path fill="none" d="M0 0h36v36H0z" />
                                            </svg>
                                            }@else if(epubViewer && authorForm.get('type')?.value == 2){
                                            <p>Preview not available for EPUB</p>
                                            }@else {
                                            <label for="ct_drage_drop_1" class="d-block">
                                                <input type="file" class="d-none" id="ct_drage_drop_1"
                                                    [accept]="authorForm.get('type')?.value == 2 ? '.epub' : '.pdf'"
                                                    (change)="onPdfUpload($event)" formControlName="pdfUrl">
                                                <div class="ct_mail_upload_mg ct_drage_drop_box_2">
                                                    <div>
                                                        <svg width="51" height="45" viewBox="0 0 51 45" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M26.6076 11.7498L26.5396 11.7295C26.1966 11.6272 26.0011 11.2666 26.1034 10.9234L26.6076 11.7498ZM26.6076 11.7498L26.6106 11.7464M26.6076 11.7498L26.6106 11.7464M26.6106 11.7464C26.9323 11.8046 27.2513 11.612 27.3458 11.2929C28.2072 8.3986 30.9209 6.37667 33.9444 6.37667C34.3023 6.37667 34.5927 6.08635 34.5927 5.72841C34.5927 5.37045 34.3023 5.08015 33.9444 5.08015C30.2286 5.08015 27.106 7.55414 26.1034 10.9233L26.6106 11.7464Z"
                                                                fill="#483EA8" stroke="#F9FFF9"
                                                                stroke-width="0.220561" />
                                                            <path
                                                                d="M41.4759 32.0891H38.2481C37.9511 32.0891 37.7102 31.8482 37.7102 31.5511C37.7102 31.2541 37.9511 31.0131 38.2481 31.0131H41.4759C45.9253 31.0131 49.5455 27.393 49.5455 22.9436C49.5455 18.4942 45.9253 14.874 41.4759 14.874H41.3983C41.2423 14.874 41.094 14.8064 40.9918 14.6884C40.8896 14.5704 40.8434 14.414 40.8657 14.2596C40.9138 13.9245 40.938 13.5879 40.938 13.2601C40.938 9.40402 37.8004 6.26643 33.9443 6.26643C32.4441 6.26643 31.0135 6.73524 29.8069 7.6225C29.5417 7.81732 29.1651 7.73086 29.0118 7.4392C25.5946 0.932075 16.6691 0.0582343 12.0416 5.71887C10.0923 8.1036 9.32637 11.2058 9.94011 14.2292C10.0077 14.5632 9.7522 14.8744 9.41289 14.8744H9.19732C4.74795 14.8744 1.12775 18.4946 1.12775 22.944C1.12775 27.3934 4.74795 31.0136 9.19732 31.0136H12.4251C12.7221 31.0136 12.9631 31.2545 12.9631 31.5515C12.9631 31.8486 12.7222 32.0895 12.4251 32.0895H9.19732C4.15457 32.0895 0.0517578 27.9867 0.0517578 22.944C0.0517578 18.0427 3.92743 14.0294 8.77501 13.808C8.31966 10.6712 9.19041 7.50719 11.2085 5.03795C16.1629 -1.02305 25.6574 -0.343695 29.671 6.41477C30.9514 5.61203 32.4166 5.19092 33.9441 5.19092C38.616 5.19092 42.3181 9.16732 41.9941 13.813C46.797 14.0824 50.6213 18.0745 50.6213 22.9436C50.6213 27.9867 46.5184 32.0891 41.4757 32.0891L41.4759 32.0891Z"
                                                                fill="#483EA8" />
                                                            <path
                                                                d="M11.7051 31.2473C11.7051 38.7243 17.788 44.807 25.2649 44.807C32.7419 44.807 38.8246 38.7242 38.8246 31.2473C38.8246 23.7703 32.7419 17.6876 25.2649 17.6876C17.7879 17.6876 11.7051 23.7704 11.7051 31.2473ZM13.0019 31.2473C13.0019 24.4857 18.5032 18.9843 25.2649 18.9843C32.0265 18.9843 37.5279 24.4856 37.5279 31.2473C37.5279 38.0089 32.0265 43.5103 25.2649 43.5103C18.5033 43.5103 13.0019 38.009 13.0019 31.2473Z"
                                                                fill="#483EA8" stroke="#F9FFF9"
                                                                stroke-width="0.220561" />
                                                            <path
                                                                d="M25.0069 36.6616C25.0069 36.9399 25.2327 37.1657 25.511 37.1657C25.7894 37.1657 26.0152 36.9403 26.0152 36.6616V26.4212C26.0152 26.1428 25.7894 25.9171 25.511 25.9171C25.2327 25.9171 25.0069 26.1428 25.0069 26.4212V36.6616Z"
                                                                fill="#483EA8" stroke="#483EA8"
                                                                stroke-width="0.220561" />
                                                            <path
                                                                d="M25.5106 27.1351L22.7163 29.9294L25.5106 27.1351ZM25.5106 27.1351L28.3049 29.9294C28.4032 30.0277 28.5326 30.0771 28.6614 30.0771L25.5106 27.1351ZM22.0033 29.9294C22.2001 30.1263 22.5195 30.1264 22.7162 29.9294L25.154 26.0657L22.0033 29.2165C21.8063 29.4134 21.8063 29.7325 22.0033 29.9294ZM25.8671 26.0656C25.6702 25.8687 25.3508 25.8686 25.1541 26.0656L29.0179 29.9294C29.0179 29.9294 29.018 29.9293 29.018 29.9293C29.2148 29.7323 29.2148 29.4134 29.0179 29.2165L25.8671 26.0656Z"
                                                                fill="#483EA8" stroke="#483EA8"
                                                                stroke-width="0.220561" />
                                                        </svg>
                                                        <div>
                                                            <h6 class="mt-4 ct_fs_16 ct_fw_600 ">
                                                                Drag & drop files or <span
                                                                    class="ct_purple_text ct_text_decoration_underline">Browse</span>
                                                            </h6>
                                                            <p class="mb-0 ct_fs_14 ct_text_clr_8a8a8a">
                                                            <p class="mb-0 ct_fs_14 ct_text_clr_8a8a8a">
                                                                Supported
                                                                formats:
                                                                {{authorForm.get('type')?.value == 2 ? 'EPUB':'PDF'}}
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </label>
                                            }
                                            <div *ngIf="!pdf && authorForm.get('pdfUrl')?.touched" class="text-danger">
                                                <small>{{authorForm.get('type')?.value == 2 ? 'EPUB':'PDF'}} file is
                                                    required</small>
                                            </div>
                                        </div>
                                        }
                                        <!-- <div class="mb-3 position-relative">
                                            @if(audioPreviewUrl){
                                            <audio [src]="audioPreviewUrl" controls class="w-100"></audio>
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                viewBox="0 0 36 36" class="remove" (click)="removeAudio()">
                                                <path fill="#e40000"
                                                    d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2m8 22.1a1.4 1.4 0 0 1-2 2l-6-6l-6 6.02a1.4 1.4 0 1 1-2-2l6-6.04l-6.17-6.22a1.4 1.4 0 1 1 2-2L18 16.1l6.17-6.17a1.4 1.4 0 1 1 2 2L20 18.08Z"
                                                    class="clr-i-solid clr-i-solid-path-1" />
                                                <path fill="none" d="M0 0h36v36H0z" />
                                            </svg>
                                            }@else {
                                            <label for="ct_drage_drop_2" class="d-block">
                                                <input type="file" class="d-none" id="ct_drage_drop_2"
                                                    accept="audio/*,.mp3" formControlName="audioUrl"
                                                    (change)="onAudioUpload($event)">
                                                <div class="ct_mail_upload_mg ct_drage_drop_box_2">
                                                    <div>
                                                        <svg width="51" height="45" viewBox="0 0 51 45" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M26.6076 11.7498L26.5396 11.7295C26.1966 11.6272 26.0011 11.2666 26.1034 10.9234L26.6076 11.7498ZM26.6076 11.7498L26.6106 11.7464M26.6076 11.7498L26.6106 11.7464M26.6106 11.7464C26.9323 11.8046 27.2513 11.612 27.3458 11.2929C28.2072 8.3986 30.9209 6.37667 33.9444 6.37667C34.3023 6.37667 34.5927 6.08635 34.5927 5.72841C34.5927 5.37045 34.3023 5.08015 33.9444 5.08015C30.2286 5.08015 27.106 7.55414 26.1034 10.9233L26.6106 11.7464Z"
                                                                fill="#483EA8" stroke="#F9FFF9"
                                                                stroke-width="0.220561" />
                                                            <path
                                                                d="M41.4759 32.0891H38.2481C37.9511 32.0891 37.7102 31.8482 37.7102 31.5511C37.7102 31.2541 37.9511 31.0131 38.2481 31.0131H41.4759C45.9253 31.0131 49.5455 27.393 49.5455 22.9436C49.5455 18.4942 45.9253 14.874 41.4759 14.874H41.3983C41.2423 14.874 41.094 14.8064 40.9918 14.6884C40.8896 14.5704 40.8434 14.414 40.8657 14.2596C40.9138 13.9245 40.938 13.5879 40.938 13.2601C40.938 9.40402 37.8004 6.26643 33.9443 6.26643C32.4441 6.26643 31.0135 6.73524 29.8069 7.6225C29.5417 7.81732 29.1651 7.73086 29.0118 7.4392C25.5946 0.932075 16.6691 0.0582343 12.0416 5.71887C10.0923 8.1036 9.32637 11.2058 9.94011 14.2292C10.0077 14.5632 9.7522 14.8744 9.41289 14.8744H9.19732C4.74795 14.8744 1.12775 18.4946 1.12775 22.944C1.12775 27.3934 4.74795 31.0136 9.19732 31.0136H12.4251C12.7221 31.0136 12.9631 31.2545 12.9631 31.5515C12.9631 31.8486 12.7222 32.0895 12.4251 32.0895H9.19732C4.15457 32.0895 0.0517578 27.9867 0.0517578 22.944C0.0517578 18.0427 3.92743 14.0294 8.77501 13.808C8.31966 10.6712 9.19041 7.50719 11.2085 5.03795C16.1629 -1.02305 25.6574 -0.343695 29.671 6.41477C30.9514 5.61203 32.4166 5.19092 33.9441 5.19092C38.616 5.19092 42.3181 9.16732 41.9941 13.813C46.797 14.0824 50.6213 18.0745 50.6213 22.9436C50.6213 27.9867 46.5184 32.0891 41.4757 32.0891L41.4759 32.0891Z"
                                                                fill="#483EA8" />
                                                            <path
                                                                d="M11.7051 31.2473C11.7051 38.7243 17.788 44.807 25.2649 44.807C32.7419 44.807 38.8246 38.7242 38.8246 31.2473C38.8246 23.7703 32.7419 17.6876 25.2649 17.6876C17.7879 17.6876 11.7051 23.7704 11.7051 31.2473ZM13.0019 31.2473C13.0019 24.4857 18.5032 18.9843 25.2649 18.9843C32.0265 18.9843 37.5279 24.4856 37.5279 31.2473C37.5279 38.0089 32.0265 43.5103 25.2649 43.5103C18.5033 43.5103 13.0019 38.009 13.0019 31.2473Z"
                                                                fill="#483EA8" stroke="#F9FFF9"
                                                                stroke-width="0.220561" />
                                                            <path
                                                                d="M25.0069 36.6616C25.0069 36.9399 25.2327 37.1657 25.511 37.1657C25.7894 37.1657 26.0152 36.9403 26.0152 36.6616V26.4212C26.0152 26.1428 25.7894 25.9171 25.511 25.9171C25.2327 25.9171 25.0069 26.1428 25.0069 26.4212V36.6616Z"
                                                                fill="#483EA8" stroke="#483EA8"
                                                                stroke-width="0.220561" />
                                                            <path
                                                                d="M25.5106 27.1351L22.7163 29.9294L25.5106 27.1351ZM25.5106 27.1351L28.3049 29.9294C28.4032 30.0277 28.5326 30.0771 28.6614 30.0771L25.5106 27.1351ZM22.0033 29.9294C22.2001 30.1263 22.5195 30.1264 22.7162 29.9294L25.154 26.0657L22.0033 29.2165C21.8063 29.4134 21.8063 29.7325 22.0033 29.9294ZM25.8671 26.0656C25.6702 25.8687 25.3508 25.8686 25.1541 26.0656L29.0179 29.9294C29.0179 29.9294 29.018 29.9293 29.018 29.9293C29.2148 29.7323 29.2148 29.4134 29.0179 29.2165L25.8671 26.0656Z"
                                                                fill="#483EA8" stroke="#483EA8"
                                                                stroke-width="0.220561" />
                                                        </svg>
                                                        <div>
                                                            <h6 class="mt-4 ct_fs_16 ct_fw_600 ">
                                                                Drag & drop files or <span
                                                                    class="ct_purple_text ct_text_decoration_underline">Browse</span>
                                                            </h6>
                                                            <p class="mb-0 ct_fs_14 ct_text_clr_8a8a8a">
                                                                Supported formats: Audio </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </label>
                                            }
                                        </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4 mb-md-0">
                    <div class="ct_white_bg">
                        <div class="ct_full_height">
                            <div class="ct_edit_profile_bg position-relative">
                                @if(coverImagePreview){
                                <img [src]="coverImagePreview" alt="Cover Image" class="preview et_big_preview">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 36 36"
                                    class="remove" (click)="removeCoverImage()">
                                    <path fill="#e40000"
                                        d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2m8 22.1a1.4 1.4 0 0 1-2 2l-6-6l-6 6.02a1.4 1.4 0 1 1-2-2l6-6.04l-6.17-6.22a1.4 1.4 0 1 1 2-2L18 16.1l6.17-6.17a1.4 1.4 0 1 1 2 2L20 18.08Z"
                                        class="clr-i-solid clr-i-solid-path-1" />
                                    <path fill="none" d="M0 0h36v36H0z" />
                                </svg>
                                }@else{
                                <label for="ct_upload_img_main">
                                    <input type="file" accept="image/*" class="d-none" id="ct_upload_img_main"
                                        formControlName="coverImage" (change)="onImageUpload($event)">
                                    <div class="ct_mail_upload_mg">
                                        <div>
                                            <img src="assets/img/img_icon.png" alt="">
                                            <h6 class="mt-4 ct_purple_text"><svg width="19" height="18"
                                                    viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <g clip-path="url(#clip0_192_2454)">
                                                        <path d="M12.2621 11.9753L9.36105 9.07422L6.45996 11.9753"
                                                            stroke="#9747FF" stroke-width="1.74066"
                                                            stroke-linecap="round" stroke-linejoin="round" />
                                                        <path d="M9.36035 9.07422V15.6017" stroke="#9747FF"
                                                            stroke-width="1.74066" stroke-linecap="round"
                                                            stroke-linejoin="round" />
                                                        <path
                                                            d="M15.4458 13.708C16.1532 13.3224 16.712 12.7121 17.0341 11.9736C17.3561 11.2351 17.4231 10.4104 17.2243 9.62959C17.0256 8.8488 16.5725 8.15643 15.9366 7.66175C15.3007 7.16706 14.5181 6.89824 13.7124 6.89771H12.7986C12.579 6.04859 12.1699 5.26028 11.6018 4.59206C11.0338 3.92384 10.3217 3.39308 9.51896 3.0397C8.71627 2.68631 7.84391 2.51949 6.96746 2.55179C6.09102 2.58408 5.2333 2.81464 4.45879 3.22613C3.68427 3.63763 3.01312 4.21935 2.49579 4.92756C1.97846 5.63578 1.62842 6.45206 1.47197 7.31503C1.31552 8.178 1.35674 9.06521 1.59253 9.90996C1.82832 10.7547 2.25255 11.535 2.83332 12.1922"
                                                            stroke="#9747FF" stroke-width="1.74066"
                                                            stroke-linecap="round" stroke-linejoin="round" />
                                                        <path d="M12.2621 11.9753L9.36105 9.07422L6.45996 11.9753"
                                                            stroke="#9747FF" stroke-width="1.74066"
                                                            stroke-linecap="round" stroke-linejoin="round" />
                                                    </g>
                                                    <defs>
                                                        <clipPath id="clip0_192_2454">
                                                            <rect width="17.4066" height="17.4066" fill="white"
                                                                transform="translate(0.657227 0.371094)" />
                                                        </clipPath>
                                                    </defs>
                                                </svg>
                                                Upload Image</h6>
                                            <small class="ct_light_grey_text">Upload a cover
                                                image for
                                                your
                                                book. <br>File Format
                                                <span class="text-dark"> jpeg,
                                                    png</span> Recommened Size <span class="text-dark">600x600
                                                    (1:1)</span></small>
                                        </div>
                                        <!-- after uploaded please show image  -->
                                        <img src="assets/img/book_1.png" alt="" class="ct_uploaded_img d-none">
                                    </div>
                                </label>
                                }
                                <div *ngIf="!coverImage && authorForm.get('coverImage')?.touched" class="text-danger">
                                    <small>Cover Image is required</small>
                                </div>
                                <div class="row mt-3">
                                    <h5 class="ct_fs_16 ct_fw_500 mb-4">Additional Images</h5>
                                    <div class="col-md-6 mb-3 position-relative">
                                        @if(bookMediaPreviews.length >= 1){
                                        <img [src]="bookMediaPreviews[0]" alt="Cover Image"
                                            class=" w-100 et_img_preview_146">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            viewBox="0 0 36 36" class="remove" (click)="removeBookMedia(0)">
                                            <path fill="#e40000"
                                                d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2m8 22.1a1.4 1.4 0 0 1-2 2l-6-6l-6 6.02a1.4 1.4 0 1 1-2-2l6-6.04l-6.17-6.22a1.4 1.4 0 1 1 2-2L18 16.1l6.17-6.17a1.4 1.4 0 1 1 2 2L20 18.08Z"
                                                class="clr-i-solid clr-i-solid-path-1" />
                                            <path fill="none" d="M0 0h36v36H0z" />
                                        </svg>
                                        }@else{
                                        <label for="ct_addtional_img_up_1">
                                            <input type="file" class="d-none" id="ct_addtional_img_up_1"
                                                accept="image/*" (change)="onBookMediaUpload($event)">
                                            <div class="ct_mail_upload_mg ct_addtional_img_upload">
                                                <div>
                                                    <img src="assets/img/img_icon.png" alt="">
                                                    <h6 class="mt-4 ct_purple_text"><svg width="19" height="18"
                                                            viewBox="0 0 19 18" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <g clip-path="url(#clip0_192_2454)">
                                                                <path
                                                                    d="M12.2621 11.9753L9.36105 9.07422L6.45996 11.9753"
                                                                    stroke="#9747FF" stroke-width="1.74066"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                                <path d="M9.36035 9.07422V15.6017" stroke="#9747FF"
                                                                    stroke-width="1.74066" stroke-linecap="round"
                                                                    stroke-linejoin="round" />
                                                                <path
                                                                    d="M15.4458 13.708C16.1532 13.3224 16.712 12.7121 17.0341 11.9736C17.3561 11.2351 17.4231 10.4104 17.2243 9.62959C17.0256 8.8488 16.5725 8.15643 15.9366 7.66175C15.3007 7.16706 14.5181 6.89824 13.7124 6.89771H12.7986C12.579 6.04859 12.1699 5.26028 11.6018 4.59206C11.0338 3.92384 10.3217 3.39308 9.51896 3.0397C8.71627 2.68631 7.84391 2.51949 6.96746 2.55179C6.09102 2.58408 5.2333 2.81464 4.45879 3.22613C3.68427 3.63763 3.01312 4.21935 2.49579 4.92756C1.97846 5.63578 1.62842 6.45206 1.47197 7.31503C1.31552 8.178 1.35674 9.06521 1.59253 9.90996C1.82832 10.7547 2.25255 11.535 2.83332 12.1922"
                                                                    stroke="#9747FF" stroke-width="1.74066"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                                <path
                                                                    d="M12.2621 11.9753L9.36105 9.07422L6.45996 11.9753"
                                                                    stroke="#9747FF" stroke-width="1.74066"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                            </g>
                                                            <defs>
                                                                <clipPath id="clip0_192_2454">
                                                                    <rect width="17.4066" height="17.4066" fill="white"
                                                                        transform="translate(0.657227 0.371094)" />
                                                                </clipPath>
                                                            </defs>
                                                        </svg>
                                                        Upload Image</h6>
                                                </div>
                                            </div>
                                        </label>
                                        }
                                    </div>
                                    <div class="col-md-6 mb-3 position-relative">
                                        @if(bookMediaPreviews.length >= 2){
                                        <img [src]="bookMediaPreviews[1]" alt="Cover Image"
                                            class="et_img_preview_146 w-100">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            viewBox="0 0 36 36" class="remove" (click)="removeBookMedia(1)">
                                            <path fill="#e40000"
                                                d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2m8 22.1a1.4 1.4 0 0 1-2 2l-6-6l-6 6.02a1.4 1.4 0 1 1-2-2l6-6.04l-6.17-6.22a1.4 1.4 0 1 1 2-2L18 16.1l6.17-6.17a1.4 1.4 0 1 1 2 2L20 18.08Z"
                                                class="clr-i-solid clr-i-solid-path-1" />
                                            <path fill="none" d="M0 0h36v36H0z" />
                                        </svg>
                                        }@else{
                                        <label for="ct_addtional_img_up_2">
                                            <input type="file" class="d-none" id="ct_addtional_img_up_2"
                                                accept="image/*" (change)="onBookMediaUpload($event)">
                                            <div class="ct_mail_upload_mg ct_addtional_img_upload">
                                                <div>
                                                    <img src="assets/img/img_icon.png" alt="">
                                                    <h6 class="mt-4 ct_purple_text"><svg width="19" height="18"
                                                            viewBox="0 0 19 18" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <g clip-path="url(#clip0_192_2454)">
                                                                <path
                                                                    d="M12.2621 11.9753L9.36105 9.07422L6.45996 11.9753"
                                                                    stroke="#9747FF" stroke-width="1.74066"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                                <path d="M9.36035 9.07422V15.6017" stroke="#9747FF"
                                                                    stroke-width="1.74066" stroke-linecap="round"
                                                                    stroke-linejoin="round" />
                                                                <path
                                                                    d="M15.4458 13.708C16.1532 13.3224 16.712 12.7121 17.0341 11.9736C17.3561 11.2351 17.4231 10.4104 17.2243 9.62959C17.0256 8.8488 16.5725 8.15643 15.9366 7.66175C15.3007 7.16706 14.5181 6.89824 13.7124 6.89771H12.7986C12.579 6.04859 12.1699 5.26028 11.6018 4.59206C11.0338 3.92384 10.3217 3.39308 9.51896 3.0397C8.71627 2.68631 7.84391 2.51949 6.96746 2.55179C6.09102 2.58408 5.2333 2.81464 4.45879 3.22613C3.68427 3.63763 3.01312 4.21935 2.49579 4.92756C1.97846 5.63578 1.62842 6.45206 1.47197 7.31503C1.31552 8.178 1.35674 9.06521 1.59253 9.90996C1.82832 10.7547 2.25255 11.535 2.83332 12.1922"
                                                                    stroke="#9747FF" stroke-width="1.74066"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                                <path
                                                                    d="M12.2621 11.9753L9.36105 9.07422L6.45996 11.9753"
                                                                    stroke="#9747FF" stroke-width="1.74066"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                            </g>
                                                            <defs>
                                                                <clipPath id="clip0_192_2454">
                                                                    <rect width="17.4066" height="17.4066" fill="white"
                                                                        transform="translate(0.657227 0.371094)" />
                                                                </clipPath>
                                                            </defs>
                                                        </svg>
                                                        Upload Image</h6>
                                                </div>
                                            </div>
                                        </label>
                                        }
                                    </div>
                                    <div class="col-md-6 mb-3 position-relative">
                                        @if(bookMediaPreviews.length >= 3){
                                        <img [src]="bookMediaPreviews[2]" alt="Cover Image"
                                            class="et_img_preview_146 w-100">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            viewBox="0 0 36 36" class="remove" (click)="removeBookMedia(2)">
                                            <path fill="#e40000"
                                                d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2m8 22.1a1.4 1.4 0 0 1-2 2l-6-6l-6 6.02a1.4 1.4 0 1 1-2-2l6-6.04l-6.17-6.22a1.4 1.4 0 1 1 2-2L18 16.1l6.17-6.17a1.4 1.4 0 1 1 2 2L20 18.08Z"
                                                class="clr-i-solid clr-i-solid-path-1" />
                                            <path fill="none" d="M0 0h36v36H0z" />
                                        </svg>
                                        }@else{
                                        <label for="ct_addtional_img_up_3">
                                            <input type="file" class="d-none" id="ct_addtional_img_up_3"
                                                accept="image/*" (change)="onBookMediaUpload($event)">
                                            <div class="ct_mail_upload_mg ct_addtional_img_upload">
                                                <div>
                                                    <img src="assets/img/img_icon.png" alt="">
                                                    <h6 class="mt-4 ct_purple_text"><svg width="19" height="18"
                                                            viewBox="0 0 19 18" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <g clip-path="url(#clip0_192_2454)">
                                                                <path
                                                                    d="M12.2621 11.9753L9.36105 9.07422L6.45996 11.9753"
                                                                    stroke="#9747FF" stroke-width="1.74066"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                                <path d="M9.36035 9.07422V15.6017" stroke="#9747FF"
                                                                    stroke-width="1.74066" stroke-linecap="round"
                                                                    stroke-linejoin="round" />
                                                                <path
                                                                    d="M15.4458 13.708C16.1532 13.3224 16.712 12.7121 17.0341 11.9736C17.3561 11.2351 17.4231 10.4104 17.2243 9.62959C17.0256 8.8488 16.5725 8.15643 15.9366 7.66175C15.3007 7.16706 14.5181 6.89824 13.7124 6.89771H12.7986C12.579 6.04859 12.1699 5.26028 11.6018 4.59206C11.0338 3.92384 10.3217 3.39308 9.51896 3.0397C8.71627 2.68631 7.84391 2.51949 6.96746 2.55179C6.09102 2.58408 5.2333 2.81464 4.45879 3.22613C3.68427 3.63763 3.01312 4.21935 2.49579 4.92756C1.97846 5.63578 1.62842 6.45206 1.47197 7.31503C1.31552 8.178 1.35674 9.06521 1.59253 9.90996C1.82832 10.7547 2.25255 11.535 2.83332 12.1922"
                                                                    stroke="#9747FF" stroke-width="1.74066"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                                <path
                                                                    d="M12.2621 11.9753L9.36105 9.07422L6.45996 11.9753"
                                                                    stroke="#9747FF" stroke-width="1.74066"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                            </g>
                                                            <defs>
                                                                <clipPath id="clip0_192_2454">
                                                                    <rect width="17.4066" height="17.4066" fill="white"
                                                                        transform="translate(0.657227 0.371094)" />
                                                                </clipPath>
                                                            </defs>
                                                        </svg>
                                                        Upload Image</h6>
                                                </div>
                                            </div>
                                        </label>
                                        }
                                    </div>
                                    <div class="col-md-6 mb-3 position-relative">
                                        @if(bookMediaPreviews.length >= 4){
                                        <img [src]="bookMediaPreviews[3]" alt="Cover Image"
                                            class="et_img_preview_146 w-100">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            viewBox="0 0 36 36" class="remove" (click)="removeBookMedia(3)">
                                            <path fill="#e40000"
                                                d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2m8 22.1a1.4 1.4 0 0 1-2 2l-6-6l-6 6.02a1.4 1.4 0 1 1-2-2l6-6.04l-6.17-6.22a1.4 1.4 0 1 1 2-2L18 16.1l6.17-6.17a1.4 1.4 0 1 1 2 2L20 18.08Z"
                                                class="clr-i-solid clr-i-solid-path-1" />
                                            <path fill="none" d="M0 0h36v36H0z" />
                                        </svg>
                                        }@else{
                                        <label for="ct_addtional_img_up_4">
                                            <input type="file" class="d-none" id="ct_addtional_img_up_4"
                                                accept="image/*" (change)="onBookMediaUpload($event)">
                                            <div class="ct_mail_upload_mg ct_addtional_img_upload">
                                                <div>
                                                    <img src="assets/img/img_icon.png" alt="">
                                                    <h6 class="mt-4 ct_purple_text"><svg width="19" height="18"
                                                            viewBox="0 0 19 18" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <g clip-path="url(#clip0_192_2454)">
                                                                <path
                                                                    d="M12.2621 11.9753L9.36105 9.07422L6.45996 11.9753"
                                                                    stroke="#9747FF" stroke-width="1.74066"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                                <path d="M9.36035 9.07422V15.6017" stroke="#9747FF"
                                                                    stroke-width="1.74066" stroke-linecap="round"
                                                                    stroke-linejoin="round" />
                                                                <path
                                                                    d="M15.4458 13.708C16.1532 13.3224 16.712 12.7121 17.0341 11.9736C17.3561 11.2351 17.4231 10.4104 17.2243 9.62959C17.0256 8.8488 16.5725 8.15643 15.9366 7.66175C15.3007 7.16706 14.5181 6.89824 13.7124 6.89771H12.7986C12.579 6.04859 12.1699 5.26028 11.6018 4.59206C11.0338 3.92384 10.3217 3.39308 9.51896 3.0397C8.71627 2.68631 7.84391 2.51949 6.96746 2.55179C6.09102 2.58408 5.2333 2.81464 4.45879 3.22613C3.68427 3.63763 3.01312 4.21935 2.49579 4.92756C1.97846 5.63578 1.62842 6.45206 1.47197 7.31503C1.31552 8.178 1.35674 9.06521 1.59253 9.90996C1.82832 10.7547 2.25255 11.535 2.83332 12.1922"
                                                                    stroke="#9747FF" stroke-width="1.74066"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                                <path
                                                                    d="M12.2621 11.9753L9.36105 9.07422L6.45996 11.9753"
                                                                    stroke="#9747FF" stroke-width="1.74066"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                            </g>
                                                            <defs>
                                                                <clipPath id="clip0_192_2454">
                                                                    <rect width="17.4066" height="17.4066" fill="white"
                                                                        transform="translate(0.657227 0.371094)" />
                                                                </clipPath>
                                                            </defs>
                                                        </svg>
                                                        Upload Image</h6>
                                                </div>
                                            </div>
                                        </label>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </form>

    </div>

</div>

<app-loader *ngIf="loading"></app-loader>